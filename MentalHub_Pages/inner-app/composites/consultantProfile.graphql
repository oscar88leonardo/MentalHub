type InnerverProfile @loadModel(id: "$PROFILE_ID") { id: ID! }

type ConsultantProfile
  @createModel(accountRelation: SINGLE, description: "Perfil del consultante para matching")
  @createIndex(fields: [
    { path: "presentingProblemShort" }
  ]) {
  profileId: StreamID! @documentReference(model: "InnerverProfile")
  profile: InnerverProfile! @relationDocument(property: "profileId")

  presentingProblemShort: String! @string(maxLength: 240)
  goals: [String!] @list(maxLength: 3) @string(maxLength: 100)

  therapistGenderPreference: String @string(maxLength: 16)

  # Contacto de emergencia
  emergencyContactName: String @string(maxLength: 80)
  emergencyContactPhoneE164: String @string(maxLength: 32)

  # Consentimientos
  consentTerms: Boolean
  consentPrivacy: Boolean
  consentTelehealthRisks: Boolean
  consentedAt: DateTime

  # Datos sensibles optâ€‘in
  priorTherapy: Boolean
  priorPsychiatry: Boolean
  medicationsUsed: Boolean
  medicationsNote: String @string(maxLength: 120)
  diagnoses: [String!] @list(maxLength: 10) @string(maxLength: 48)
}


